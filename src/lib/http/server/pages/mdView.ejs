<% const cdnPrismURL = "https://cdn.bootcdn.net/ajax/libs/prism/1.23.0" %>
<% const cdnShowdownURL = "https://cdn.bootcdn.net/ajax/libs/showdown/1.9.1" %>
<html>
<head>
    <meta charset="utf-8">
    <style>
        body{color:lightgrey;background-color:#333333;width:80%;margin-left:10%;margin-right:10%;}
        a{text-decoration:none}a:link{color:pink}a:visited{color:hotpink}
    </style>
</head>
<body>
<pre><%= text %></pre>
<div></div>
<script src="<%- cdnPrismURL %>/prism.js"></script>
<link href="<%- cdnPrismURL %>/themes/prism-tomorrow.css" rel="stylesheet">
<script src="<%- cdnShowdownURL %>/showdown.min.js"></script>
<script>
    const converter = new showdown.Converter();
    const preElement = document.querySelector('pre');
    document.querySelector('div').innerHTML = converter.makeHtml(preElement.innerText);
    preElement.remove();
</script>
</body>
</html>