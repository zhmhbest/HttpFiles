<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        body{color:lightgrey;background-color:#333333;width:80%;margin-left:10%;margin-right:10%;}
        a{text-decoration:none}a:link{color:pink}a:visited{color:hotpink}
        blockquote{background-color:#524c4c;border-left:4px solid #a89a9a;}
    </style>
</head>
<body>
<pre><%= text %></pre>
<div></div>
<%- include(`./lib/showdown.ejs`); %>
<%- include(`./lib/prism.ejs`, {sourceNames}); %>
<%- include(`./lib/katex.ejs`); %>
<script>
    const preElement = document.querySelector('pre');
    const showElement = document.querySelector('div');
    // Showdown
    const converter = new showdown.Converter();

    showElement.innerHTML = converter.makeHtml(preElement.innerText);
    preElement.remove();
    // for (let headLine of document.querySelectorAll('h1,h2,h3,h4')) {
    //     console.log(headLine.innerText, headLine.nodeName)
    // }

    // // Katex
    // renderMathInElement(showElement, {
    //     delimiters: [
    //         { left: "$$", right: "$$", display: true },
    //         { left: "$", right: "$", display: false }
    //     ]
    // });
</script>
</body>
</html>